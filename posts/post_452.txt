Re: Issues building bitcoin on Windows 7
  
  Bitcointalk
  
	2010-09-19 18:46:46 UTC - Original Post
  The lines it's tripping on:Code:ERROR extern map<string, string> mapAddressBook;ERROR extern CCriticalSection cs_mapAddressBook;ERROR extern vector<unsigned char> vchDefaultKey;OK extern bool fClient;OK extern int nBestHeight;OK extern unsigned int nWalletDBUpdated;ERROR extern DbEnv dbenv;So it's acting like nothing is defined, not even map and vector.Yet, db.h is included by headers.h (and only there, nowhere else) which includes vector, map, util.h and everything before db.h.Is VC trying to use precompiled headers and screwing it up?  Could there be some leftover precompiled header files in your directory from previously failed attempts that it's finding and using?There's an installer package now that makes it really easy to install MinGW.  Don't use the latest version 4.5.0, use a few versions back like 4.4.1 (1.908.0) or 1.812.0.  A setup program completely installs everything, it's not hard like it used to be.  I think the only thing I had to do was rename make*.exe something to make.exe.http://tdm-gcc.tdragon.net/Off topic, but: It would be nice if someone would hack on getting tcatm's 4-way 128-bit SSE2 code working on Windows.  There's something with MinGW's optimisation, I'm not sure but maybe a problem with 16-byte alignment on the stack, that makes it segfault.  With some fiddling, I was able to get his code to work in a test program, but not in Bitcoin itself for some reason.